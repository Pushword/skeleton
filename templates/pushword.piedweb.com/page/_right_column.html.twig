
{% set nav = [
    ['Getting Started', 'installation', true],
    ['Introduction', ''],
    ['Installation', 'installation'],
    ['Configuration', 'configuration'],
    ['Upgrade Guide', 'upgrade'],
    ['Cookbook', 'cookbook'],
    ['Theme', 'themes', true],
    ['Find a Theme', 'themes'],
    ['Customize the current theme or change the theme', '#'],
    ['Override the Current Theme', '#'],
    ['Create a new theme', '#'],
    ['Extensions', 'create-extension', true],
    ['Find an extension', 'extensions'],
    ['Customize your Pushword installation', '#'],
    ['Create an extension (and package it)', 'create-extension'],
    ['Contribute', 'contribute', true],
    ['Issues and Pull Request', 'contribute'],
    ['The Architecture', 'architecture'],
    ['Roadmap', 'roadmap'],
] %}

<div class="h-full">
    <input type="checkbox" id="right-column" class="hidden">

    <label for="right-column" id="right-column-toggler" class="fixed bottom-0 left-0 z-50 block w-12 h-12 p-3 m-2 bg-primary hover:bg-primary-light">
        <div class="relative flex flex-wrap content-center w-6 h-6">
            <span class="block w-full h-1 border-b-2 border-gray-100"></span>
            <span class="block w-full h-1 my-1 border-b-2 border-gray-100"></span>
            <span class="block w-full h-1 border-b-2 border-gray-100"></span>
        </div>
    </label>
    <div id="right-column-nav" class="sticky z-40 h-full px-3 mr-24 overflow-hidden text-sm bg-white border-r border-gray-200 w-60 lg:block lg:top-18 lg:mr-3">
        {% set heading_class = 'block px-3 mb-3 text-sm font-semibold tracking-wide text-gray-900 uppercase lg:mb-3 lg:text-xs mt-3' %}
        {% set link_class = 'block px-3 py-2 transition-colors duration-200 relative hover:text-white hover:bg-primary-light text-gray-900 rounded' %}
        {% for n in nav %}
            {% set uri = n.1 == '#' ? '#' : page(n.1) %}
            <a href="{{ uri }}" class="{{ n.2 is defined ? heading_class : link_class }} {{ n.2 is not defined and isCurrentPage(uri, page) ? ' bg-gray-200' : '' }}">
                {{ n.0 }}</a>
        {% endfor %}
        {{ link('Source Code', 'https://github.com/Pushword/Pushword', link_class) }}
    </div>
</div>
<script>
document.addEventListener('DOMContentLoaded',  function() {
    if (window.screen.width >= 1025) {
        document.querySelector('#right-column').checked=true;
        document.querySelector('#right-column-toggler').classList.add('lg:hidden');
    }
});
</script>
<style>
#right-column:checked ~ label span:nth-child(1){
    transform: rotate(45deg) translateY(0.2rem) translateX(0.1rem);
}
#right-column:checked ~ label span:nth-child(2){
    border-color:transparent;
    margin:0 !important;
}

#right-column:checked ~ label span:nth-child(3){
    transform: rotate(-45deg) translateY(-0.3rem) translateX(0.1rem);
}

#right-column:not(:checked) ~ #right-column-nav {
    height: 0 !important;
    width: 0;
}
#right-column:checked ~ label {
    left: 15rem;
}
</style>